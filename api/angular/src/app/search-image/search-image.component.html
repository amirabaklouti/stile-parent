<ion-content fullscreen>
  <!--<app-header></app-header>-->

  <div *ngIf="!displaySearch">


 <!-- <ion-row class="justify-content-center">
    <ion-col size="8" class="d-flex justify-content-center">
      <p class="title">Search</p>
    </ion-col>
  </ion-row>-->

  <div class="d-flex justify-content-end edit-container">
    <ion-button [ngStyle]="{'display':searchingOn === false ? 'flex' : 'none'}" *ngIf="url && !searchingOn" (click)="clear()" mode="ios" class="edit-btn" ><img class="edit-img" src="../../assets/edit.svg">Edit</ion-button>
   </div>
  <ion-row *ngIf="!url" class="justify-content-center svgImg ">
    <svg xmlns="http://www.w3.org/2000/svg" width="288" height="314" fill="none" viewBox="0 0 288 314">
      <path fill="#000" fill-rule="evenodd" d="M60 0h13.267v2H60c-14.199 0-24.647.004-32.652 1.08-7.947 1.069-13.187 3.161-17.147 7.121-3.96 3.96-6.052 9.2-7.12 17.147C2.004 35.353 2 45.801 2 60v.248H0V60C0 31.716 0 17.574 8.787 8.787 17.574 0 31.716 0 60 0Zm167.833 2h-13.266V0h13.266c28.285 0 42.427 0 51.214 8.787 8.786 8.787 8.786 22.929 8.786 51.213v.248h-2V60c0-14.199-.004-24.647-1.08-32.652-1.069-7.947-3.161-13.187-7.121-17.147-3.96-3.96-9.199-6.052-17.147-7.12C252.48 2.004 242.032 2 227.833 2Zm58 252.589c0 13.899-.019 24.169-1.08 32.063-1.069 7.947-3.161 13.187-7.121 17.147-3.96 3.96-9.199 6.052-17.147 7.12-8.005 1.077-18.453 1.081-32.652 1.081h-13.266v2h13.266c28.285 0 42.427 0 51.214-8.787 8.725-8.725 8.786-22.732 8.786-50.624h-2ZM73.267 314H60c-28.284 0-42.426 0-51.213-8.787C.06 296.488 0 282.481 0 254.589h2c0 13.899.02 24.169 1.08 32.063 1.069 7.947 3.161 13.187 7.121 17.147 3.96 3.96 9.2 6.052 17.147 7.12C35.353 311.996 45.801 312 60 312h13.267v2Z" clip-rule="evenodd" class="svg-elem-1"></path>
      <path stroke="#130F26" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M143.177 127.686v58.476m29.266-29.238H113.91" class="svg-elem-2"></path>
      <path stroke="#130F26" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M180.576 77.184h-74.799c-26.074 0-42.417 18.454-42.417 44.578v70.476c0 26.124 16.267 44.579 42.417 44.579h74.799c26.15 0 42.417-18.455 42.417-44.579v-70.476c0-26.124-16.267-44.578-42.417-44.578Z" clip-rule="evenodd" class="svg-elem-3"></path>
    </svg>

    
  </ion-row>
  <div style="display: none ;">
      <input type="file" name="file"  id="file" [(ngModel)]="file" enctype="multipart/form-data" />
  <button (click)="sendFile(file)"></button>
  </div>


  <div class="buttons ">
    <div class="imageUpload ">
      <!--selected image-->
      <div *ngIf="!searchingOn">
        <img [src]='sanitize(url)' *ngIf="url" class="input imageContainer">
      </div>


      <!--buttons for upload an image -->
<div *ngIf="!url">
      <ion-row  class="d-flex justify-content-evenly " >
        <ion-col size="5" class="d-flex align-items-center custom-file-upload "  (click)="takePicture()">
          <img src="../../assets/Camera.svg">
   
            
          <p class="img-label">Camera</p>  
      
        </ion-col>

        <ion-col size="5" class="d-flex align-items-center custom-file-upload " (click)="getFromWardrobe()"  accept="image/*">
          <!--(change)="selectFile($event)"-->
          <ion-icon name="shirt-outline"></ion-icon>
          <label>
          <p class="img-label">Wardrobe</p>  
          </label>   
        </ion-col>

      </ion-row>

      <div *ngIf="getWardrobes==true">
        <ion-list >
          <ion-item lines="none">
            <ion-select
             mode="ios"
              [compareWith]="compareWith"
              placeholder="Select Wardrobe Group"
              (ionChange)="handleChange($event)"
            >
              <ion-select-option *ngFor="let group of userGroups" [value]="group">{{ group.groupName }}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item lines="none" class="d-flex  justify-content-start">
    
              <ion-row class="group-container p-0"  *ngIf="groupSelected" >
                <ion-col size="6" class="d-flex" >
               <img (click)="changeUriToWardrobe(clothes.imgUri)" class="ml-3 image-wardrobe" *ngFor="let clothes of groupSelected.wardrobes"  src="{{clothes.imgUri}}">
            </ion-col>
          </ion-row>
          </ion-item>
        </ion-list>
       <div class="p-8"></div>
      </div>
     

   <!--   <ion-row (change)="selectFile($event)" accept="image/*">
        <ion-col class="d-flex align-items-center justify-content-start custom-file-upload " >
          <ion-icon name="images-outline"></ion-icon>
          <label>
            <input type="file" >
          <p class="img-label">Upload an image</p>  
          </label>   
        </ion-col>
      </ion-row> -->

    </div>


    </div>
  </div>



<!--processed image-->
<div *ngIf="searchingOn" >
  <img src="../assets/cropped.png" *ngIf="url" class="input  mt-2">
 <!-- <img [src]='sanitize(url)' *ngIf="url" class="input  mt-2">-->
</div>

  <div *ngIf="searchingOn" class="detected-Items">
    <p class="search-title mt-3">Search For</p>


    <ion-row class="mode" *ngIf="searchingOn" >
      <ion-segment mode="ios" [(ngModel)]="mode">
        <ion-segment-button value="Similar">
          Similar  
        </ion-segment-button>
        <ion-segment-button value="Complementary">
          Complementary
        </ion-segment-button>
      </ion-segment>
    </ion-row> 

    <ion-card mode="ios" class="m-3">
      <ion-row  class="d-flex align-items-center">
        <ion-col size="4" class="p-0">
          <img class="item-img" src="../../assets/1.png">
        </ion-col>
        <ion-col size="6" class="description d-flex justify-content-start flex-direction-column">
          <p class="name">Shirt</p>
          <p class="date">On 12 June 2021; 04:23 AM</p>
        </ion-col>
        <ion-col size="2" class=" options d-flex justify-content-around"> 
            <ion-checkbox mode="ios" ></ion-checkbox>
        </ion-col>
      </ion-row> 
  </ion-card>


  <ion-card mode="ios" class="m-3">
    <ion-row  class="d-flex align-items-center">
      <ion-col size="4" class="p-0">
        <img class="item-img" src="../../assets/2.png">
      </ion-col>
      <ion-col size="6" class="description d-flex justify-content-start flex-direction-column">
        <p class="name">Pant Jeans</p>
        <p class="date">On 12 June 2021; 04:23 AM</p>
      </ion-col>
      <ion-col size="2" class=" options d-flex justify-content-around align-items-center
"> 
          <ion-checkbox mode="ios" ></ion-checkbox>
      </ion-col>
    </ion-row> 
</ion-card>

<ion-row *ngIf="searchingOn">
  <ion-col size="6">
    <ion-button fill="outline" color="stile-dark-gray"  mode="ios" class="return-btn" (click)="retun()">Return</ion-button>
  </ion-col>
  <ion-col size="6">
    <ion-button  color="stile-dark-gray"  mode="ios" class="submitButton" (click)="searchItems()">Search</ion-button>
  </ion-col>

</ion-row>
 </div> 




  <div *ngIf="url && !searchingOn" class="divSubmit">
      <ion-button  color="stile-dark-gray" mode="ios" (click)="tryModal(url)" class="submitButton"  >
        Next
      </ion-button>
    </div>





  </div>
    














  <div *ngIf="displaySearch" class="search-container">

    <ion-row class="header mt-4 mb-4 align-items-center">
      <ion-col size="2" class="d-flex justify-content-end">
        <ion-icon large name="chevron-back-outline" (click)="retunToChoose()"></ion-icon>
      </ion-col>
      <ion-col size="8" class="d-flex justify-content-center">
        <p class="title">Search {{switcher}}</p>
      </ion-col>
      <ion-col size="2" class="cart d-flex justify-content-start">
      </ion-col>
    </ion-row>

 <!--  <ion-row class="justify-content-center">
    <ion-col size="8" class="d-flex justify-content-center">
      <p class="title">Search {{switcher}}</p>
    </ion-col> 

  </ion-row>-->

<div>
    <ion-card mode="ios" class="m-3">
      <ion-row  class="d-flex align-items-center">
        <ion-col size="4" class="p-0">
          <img class="item-img" src="../../assets/1.png">
        </ion-col>
        <ion-col size="8" class="description d-flex justify-content-start flex-direction-column">
          <p class="name">Shirt</p>
          <p class="date">On 12 June 2021; 04:23 AM</p>
        </ion-col>
    
      </ion-row> 
  </ion-card>
 <!-- <ion-button color="stile-dark-gray"  mode="ios" class="return" (click)="retunToChoose()"><ion-icon name="return-up-back"></ion-icon> Change Selection</ion-button> -->

  

</div>

<div *ngIf="switcher === 'Similar'">
<!--<ion-row *ngIf="displaySearch" class="cloths">
  <ion-col *ngFor="let cloth of result" class="cloth-items" >
    <app-cloth-card (reload)="ngOnInit()" [item]="cloth" [result]="result"></app-cloth-card>
  </ion-col>
</ion-row>-->
<ion-row *ngIf="displaySearch" class="cloths">
  <ion-col *ngFor="let cloth of staticshirts" class="cloth-items" >
    <app-cloth-card (reload)="ngOnInit()" [item]="cloth" [result]="result"></app-cloth-card>
  </ion-col>
</ion-row>
  </div>

  <div *ngIf="switcher === 'Complementary'">
  <!--<ion-accordion-group>
    <ion-accordion value="color" inset="true">
      <ion-item lines="none" slot="header">
        <ion-label>T-shirt</ion-label>
      </ion-item>
      <span slot="content" >
        <ion-row *ngIf="displaySearch" class="cloths">
          <ion-col *ngFor="let cloth of staticshirts" class="cloth-items" >
            <app-cloth-card (reload)="ngOnInit()" [item]="cloth" [result]="result"></app-cloth-card>
          </ion-col>
        </ion-row>
      </span>
    </ion-accordion>
  </ion-accordion-group>-->
  <ion-accordion-group>
    <ion-accordion value="color" inset="true">
      <ion-item lines="none" slot="header">
        <ion-label>Pantalon</ion-label>
      </ion-item>
      <span slot="content" >
        <ion-row *ngIf="displaySearch" class="cloths">
          <ion-col *ngFor="let cloth of staticPants" class="cloth-items" >
            <app-cloth-card (reload)="ngOnInit()" [item]="cloth" [result]="result"></app-cloth-card>
          </ion-col>
        </ion-row>
      </span>
    </ion-accordion>
  </ion-accordion-group>
  <ion-accordion-group>
    <ion-accordion value="color" inset="true">
      <ion-item lines="none" slot="header">
        <ion-label>Shoes</ion-label>
      </ion-item>
      <span slot="content" >
        <ion-row *ngIf="displaySearch" class="cloths">
          <ion-col *ngFor="let cloth of staticShoes" class="cloth-items" >
            <app-cloth-card (reload)="ngOnInit()" [item]="cloth" [result]="result"></app-cloth-card>
          </ion-col>
        </ion-row>
      </span>
    </ion-accordion>
  </ion-accordion-group>

</div>
</div>
<app-menubar></app-menubar>
</ion-content>
